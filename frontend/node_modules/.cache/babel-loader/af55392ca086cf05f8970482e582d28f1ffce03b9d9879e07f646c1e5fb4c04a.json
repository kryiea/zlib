{"ast":null,"code":"import _regeneratorRuntime from \"D:/zlib/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"D:/zlib/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport axios from 'axios';\nimport SearchBar from './components/SearchBar.vue';\nimport SearchResults from './components/SearchResults.vue';\nexport default {\n  name: 'App',\n  components: {\n    SearchBar: SearchBar,\n    SearchResults: SearchResults\n  },\n  data: function data() {\n    return {\n      searchResults: [],\n      loading: false,\n      currentPage: 1,\n      total: 0,\n      totalPages: 0,\n      lastKeywords: '',\n      hasSearched: false,\n      platformStatus: {}\n    };\n  },\n  methods: {\n    handleSearch: function handleSearch(keywords) {\n      var _this = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _this.loading = true;\n              _this.lastKeywords = keywords;\n              _this.currentPage = 1;\n              _this.hasSearched = true;\n              _context.next = 6;\n              return _this.performSearch();\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    },\n    handlePageChange: function handlePageChange(page) {\n      var _this2 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _this2.currentPage = page;\n              _context2.next = 3;\n              return _this2.performSearch();\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }))();\n    },\n    performSearch: function performSearch() {\n      var _this3 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return axios.get(\"http://localhost:5000/zlibrary/s/\".concat(encodeURIComponent(_this3.lastKeywords)));\n            case 3:\n              response = _context3.sent;\n              if (response.data && response.data.books) {\n                _this3.searchResults = response.data.books;\n                _this3.total = response.data.total;\n                _this3.totalPages = 1;\n                _this3.platformStatus = response.data.platform_status || {};\n              } else {\n                _this3.searchResults = [];\n                _this3.total = 0;\n                _this3.totalPages = 0;\n                _this3.platformStatus = {};\n              }\n              _context3.next = 14;\n              break;\n            case 7:\n              _context3.prev = 7;\n              _context3.t0 = _context3[\"catch\"](0);\n              console.error('Search error:', _context3.t0);\n              _this3.searchResults = [];\n              _this3.total = 0;\n              _this3.totalPages = 0;\n              _this3.platformStatus = {};\n            case 14:\n              _context3.prev = 14;\n              _this3.loading = false;\n              return _context3.finish(14);\n            case 17:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, null, [[0, 7, 14, 17]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["axios","SearchBar","SearchResults","name","components","data","searchResults","loading","currentPage","total","totalPages","lastKeywords","hasSearched","platformStatus","methods","handleSearch","keywords","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","performSearch","stop","handlePageChange","page","_this2","_callee2","_callee2$","_context2","_this3","_callee3","response","_callee3$","_context3","get","concat","encodeURIComponent","sent","books","platform_status","t0","console","error","finish"],"sources":["D:\\zlib\\frontend\\src\\App.vue"],"sourcesContent":["<template>\r\n  <div id=\"app\">\r\n    <nav class=\"navbar navbar-dark bg-primary mb-4\">\r\n      <div class=\"container\">\r\n        <span class=\"navbar-brand mb-0 h1\">\r\n          <i class=\"bi bi-book me-2\"></i>\r\n          E-Booküîç\r\n        </span>\r\n      </div>\r\n    </nav>\r\n    <div class=\"container pb-5\">\r\n      <SearchBar @search=\"handleSearch\" />\r\n      <SearchResults \r\n        :results=\"searchResults\"    \r\n        :loading=\"loading\"\r\n        :total=\"total\"\r\n        :current-page=\"currentPage\"\r\n        :total-pages=\"totalPages\"\r\n        :has-searched=\"hasSearched\"\r\n        :platform-status=\"platformStatus\"\r\n        @page-change=\"handlePageChange\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport SearchBar from './components/SearchBar.vue';\r\nimport SearchResults from './components/SearchResults.vue';\r\n\r\nexport default {\r\n  name: 'App',\r\n  components: {\r\n    SearchBar,\r\n    SearchResults\r\n  },\r\n  data() {\r\n    return {\r\n      searchResults: [],\r\n      loading: false,\r\n      currentPage: 1,\r\n      total: 0,\r\n      totalPages: 0,\r\n      lastKeywords: '',\r\n      hasSearched: false,\r\n      platformStatus: {}\r\n    };\r\n  },\r\n  methods: {\r\n    async handleSearch(keywords) {\r\n      this.loading = true;\r\n      this.lastKeywords = keywords;\r\n      this.currentPage = 1;\r\n      this.hasSearched = true;\r\n      await this.performSearch();\r\n    },\r\n    async handlePageChange(page) {\r\n      this.currentPage = page;\r\n      await this.performSearch();\r\n    },\r\n    async performSearch() {\r\n      try {\r\n        const response = await axios.get(\r\n          `http://localhost:5000/zlibrary/s/${encodeURIComponent(this.lastKeywords)}`\r\n        );\r\n        \r\n        if (response.data && response.data.books) {\r\n          this.searchResults = response.data.books;\r\n          this.total = response.data.total;\r\n          this.totalPages = 1;\r\n          this.platformStatus = response.data.platform_status || {};\r\n        } else {\r\n          this.searchResults = [];\r\n          this.total = 0;\r\n          this.totalPages = 0;\r\n          this.platformStatus = {};\r\n        }\r\n      } catch (error) {\r\n        console.error('Search error:', error);\r\n        this.searchResults = [];\r\n        this.total = 0;\r\n        this.totalPages = 0;\r\n        this.platformStatus = {};\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  color: #2c3e50;\r\n  min-height: 100vh;\r\n  background-color: #f8f9fa;\r\n}\r\n\r\n.navbar {\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.container {\r\n  max-width: 1000px;\r\n}\r\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}