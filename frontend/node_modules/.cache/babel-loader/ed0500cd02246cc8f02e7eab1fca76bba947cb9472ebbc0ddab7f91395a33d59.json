{"ast":null,"code":"import axios from 'axios';\nimport SearchBar from './components/SearchBar.vue';\nimport SearchResults from './components/SearchResults.vue';\nexport default {\n  name: 'App',\n  components: {\n    SearchBar,\n    SearchResults\n  },\n  data() {\n    return {\n      searchResults: [],\n      loading: false,\n      currentPage: 1,\n      total: 0,\n      totalPages: 0,\n      lastKeywords: ''\n    };\n  },\n  methods: {\n    async handleSearch(keywords) {\n      this.loading = true;\n      this.lastKeywords = keywords;\n      this.currentPage = 1;\n      await this.performSearch();\n    },\n    async handlePageChange(page) {\n      this.currentPage = page;\n      await this.performSearch();\n    },\n    async performSearch() {\n      try {\n        const response = await axios.post('http://localhost:5000/api/search', {\n          keywords: this.lastKeywords,\n          page: this.currentPage,\n          per_page: 10\n        });\n        this.searchResults = response.data.results;\n        this.total = response.data.total;\n        this.totalPages = response.data.total_pages;\n      } catch (error) {\n        console.error('Search error:', error);\n        this.searchResults = [];\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","SearchBar","SearchResults","name","components","data","searchResults","loading","currentPage","total","totalPages","lastKeywords","methods","handleSearch","keywords","performSearch","handlePageChange","page","response","post","per_page","results","total_pages","error","console"],"sources":["D:\\zlib\\frontend\\src\\App.vue"],"sourcesContent":["<template>\r\n  <div id=\"app\">\r\n    <nav class=\"navbar navbar-dark bg-dark mb-4\">\r\n      <div class=\"container\">\r\n        <span class=\"navbar-brand mb-0 h1\">E-Book Search</span>\r\n      </div>\r\n    </nav>\r\n    <div class=\"container\">\r\n      <SearchBar @search=\"handleSearch\" />\r\n      <SearchResults \r\n        :results=\"searchResults\"\r\n        :loading=\"loading\"\r\n        :total=\"total\"\r\n        :current-page=\"currentPage\"\r\n        :total-pages=\"totalPages\"\r\n        @page-change=\"handlePageChange\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport SearchBar from './components/SearchBar.vue';\r\nimport SearchResults from './components/SearchResults.vue';\r\n\r\nexport default {\r\n  name: 'App',\r\n  components: {\r\n    SearchBar,\r\n    SearchResults\r\n  },\r\n  data() {\r\n    return {\r\n      searchResults: [],\r\n      loading: false,\r\n      currentPage: 1,\r\n      total: 0,\r\n      totalPages: 0,\r\n      lastKeywords: ''\r\n    };\r\n  },\r\n  methods: {\r\n    async handleSearch(keywords) {\r\n      this.loading = true;\r\n      this.lastKeywords = keywords;\r\n      this.currentPage = 1;\r\n      await this.performSearch();\r\n    },\r\n    async handlePageChange(page) {\r\n      this.currentPage = page;\r\n      await this.performSearch();\r\n    },\r\n    async performSearch() {\r\n      try {\r\n        const response = await axios.post('http://localhost:5000/api/search', {\r\n          keywords: this.lastKeywords,\r\n          page: this.currentPage,\r\n          per_page: 10\r\n        });\r\n        \r\n        this.searchResults = response.data.results;\r\n        this.total = response.data.total;\r\n        this.totalPages = response.data.total_pages;\r\n      } catch (error) {\r\n        console.error('Search error:', error);\r\n        this.searchResults = [];\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  color: #2c3e50;\r\n  margin-top: 0;\r\n}\r\n</style> "],"mappings":"AAsBA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,SAAQ,MAAO,4BAA4B;AAClD,OAAOC,aAAY,MAAO,gCAAgC;AAE1D,eAAe;EACbC,IAAI,EAAE,KAAK;EACXC,UAAU,EAAE;IACVH,SAAS;IACTC;EACF,CAAC;EACDG,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,aAAa,EAAE,EAAE;MACjBC,OAAO,EAAE,KAAK;MACdC,WAAW,EAAE,CAAC;MACdC,KAAK,EAAE,CAAC;MACRC,UAAU,EAAE,CAAC;MACbC,YAAY,EAAE;IAChB,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,YAAYA,CAACC,QAAQ,EAAE;MAC3B,IAAI,CAACP,OAAM,GAAI,IAAI;MACnB,IAAI,CAACI,YAAW,GAAIG,QAAQ;MAC5B,IAAI,CAACN,WAAU,GAAI,CAAC;MACpB,MAAM,IAAI,CAACO,aAAa,CAAC,CAAC;IAC5B,CAAC;IACD,MAAMC,gBAAgBA,CAACC,IAAI,EAAE;MAC3B,IAAI,CAACT,WAAU,GAAIS,IAAI;MACvB,MAAM,IAAI,CAACF,aAAa,CAAC,CAAC;IAC5B,CAAC;IACD,MAAMA,aAAaA,CAAA,EAAG;MACpB,IAAI;QACF,MAAMG,QAAO,GAAI,MAAMlB,KAAK,CAACmB,IAAI,CAAC,kCAAkC,EAAE;UACpEL,QAAQ,EAAE,IAAI,CAACH,YAAY;UAC3BM,IAAI,EAAE,IAAI,CAACT,WAAW;UACtBY,QAAQ,EAAE;QACZ,CAAC,CAAC;QAEF,IAAI,CAACd,aAAY,GAAIY,QAAQ,CAACb,IAAI,CAACgB,OAAO;QAC1C,IAAI,CAACZ,KAAI,GAAIS,QAAQ,CAACb,IAAI,CAACI,KAAK;QAChC,IAAI,CAACC,UAAS,GAAIQ,QAAQ,CAACb,IAAI,CAACiB,WAAW;MAC7C,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;QACrC,IAAI,CAACjB,aAAY,GAAI,EAAE;MACzB,UAAU;QACR,IAAI,CAACC,OAAM,GAAI,KAAK;MACtB;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}