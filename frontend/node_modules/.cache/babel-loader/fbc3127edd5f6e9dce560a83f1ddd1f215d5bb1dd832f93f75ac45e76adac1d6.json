{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, Fragment as _Fragment, renderList as _renderList, withModifiers as _withModifiers, normalizeClass as _normalizeClass } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"search-results\"\n};\nvar _hoisted_2 = {\n  key: 0,\n  \"class\": \"text-center my-5\"\n};\nvar _hoisted_3 = {\n  key: 0,\n  \"class\": \"alert alert-info mb-4\"\n};\nvar _hoisted_4 = {\n  \"class\": \"row\"\n};\nvar _hoisted_5 = {\n  \"class\": \"card\"\n};\nvar _hoisted_6 = {\n  \"class\": \"card-body\"\n};\nvar _hoisted_7 = {\n  \"class\": \"card-title\"\n};\nvar _hoisted_8 = {\n  \"class\": \"card-subtitle mb-2 text-muted\"\n};\nvar _hoisted_9 = {\n  \"class\": \"card-text\"\n};\nvar _hoisted_10 = {\n  \"class\": \"text-muted\"\n};\nvar _hoisted_11 = [\"href\"];\nvar _hoisted_12 = {\n  key: 2,\n  \"class\": \"d-flex justify-content-center mt-4\"\n};\nvar _hoisted_13 = {\n  \"aria-label\": \"Search results pages\"\n};\nvar _hoisted_14 = {\n  \"class\": \"pagination\"\n};\nvar _hoisted_15 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Loading spinner \"), $props.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, _cache[2] || (_cache[2] = [_createElementVNode(\"div\", {\n    \"class\": \"spinner-border text-primary\",\n    role: \"status\"\n  }, [_createElementVNode(\"span\", {\n    \"class\": \"visually-hidden\"\n  }, \"Loading...\")], -1 /* HOISTED */)]))) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" Results \"), _createElementVNode(\"div\", null, [_createCommentVNode(\" Results count \"), $props.total > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, \" Found \" + _toDisplayString($props.total) + \" results \", 1 /* TEXT */)) : !$props.loading ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" No results message \"), _cache[3] || (_cache[3] = _createElementVNode(\"div\", {\n    \"class\": \"alert alert-warning mb-4\"\n  }, \" No results found \", -1 /* HOISTED */))], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Results list \"), _createElementVNode(\"div\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.results, function (book, index) {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      \"class\": \"col-12 mb-4\"\n    }, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"h5\", _hoisted_7, _toDisplayString(book.title), 1 /* TEXT */), _createElementVNode(\"h6\", _hoisted_8, _toDisplayString(book.author) + \" (\" + _toDisplayString(book.year) + \") \", 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_9, [_createElementVNode(\"small\", _hoisted_10, \"Source: \" + _toDisplayString(book.source), 1 /* TEXT */)]), _createElementVNode(\"a\", {\n      href: book.download_url,\n      target: \"_blank\",\n      \"class\": \"btn btn-primary\",\n      rel: \"noopener noreferrer\"\n    }, \" Download \", 8 /* PROPS */, _hoisted_11)])])]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createCommentVNode(\" Pagination \"), $props.totalPages > 1 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [_createElementVNode(\"nav\", _hoisted_13, [_createElementVNode(\"ul\", _hoisted_14, [_createElementVNode(\"li\", {\n    \"class\": _normalizeClass([\"page-item\", {\n      disabled: $props.currentPage === 1\n    }])\n  }, [_createElementVNode(\"a\", {\n    \"class\": \"page-link\",\n    href: \"#\",\n    onClick: _cache[0] || (_cache[0] = _withModifiers(function ($event) {\n      return $options.handlePageChange($props.currentPage - 1);\n    }, [\"prevent\"]))\n  }, \" Previous \")], 2 /* CLASS */), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.displayedPages, function (page) {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: page,\n      \"class\": _normalizeClass([\"page-item\", {\n        active: page === $props.currentPage\n      }])\n    }, [_createElementVNode(\"a\", {\n      \"class\": \"page-link\",\n      href: \"#\",\n      onClick: _withModifiers(function ($event) {\n        return $options.handlePageChange(page);\n      }, [\"prevent\"])\n    }, _toDisplayString(page), 9 /* TEXT, PROPS */, _hoisted_15)], 2 /* CLASS */);\n  }), 128 /* KEYED_FRAGMENT */)), _createElementVNode(\"li\", {\n    \"class\": _normalizeClass([\"page-item\", {\n      disabled: $props.currentPage === $props.totalPages\n    }])\n  }, [_createElementVNode(\"a\", {\n    \"class\": \"page-link\",\n    href: \"#\",\n    onClick: _cache[1] || (_cache[1] = _withModifiers(function ($event) {\n      return $options.handlePageChange($props.currentPage + 1);\n    }, [\"prevent\"]))\n  }, \" Next \")], 2 /* CLASS */)])])])) : _createCommentVNode(\"v-if\", true)])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))]);\n}","map":{"version":3,"names":["key","_createElementBlock","_hoisted_1","_createCommentVNode","$props","loading","_hoisted_2","_cache","_createElementVNode","role","_Fragment","total","_hoisted_3","_toDisplayString","_hoisted_4","_renderList","results","book","index","_hoisted_5","_hoisted_6","_hoisted_7","title","_hoisted_8","author","year","_hoisted_9","_hoisted_10","source","href","download_url","target","rel","_hoisted_11","totalPages","_hoisted_12","_hoisted_13","_hoisted_14","_normalizeClass","disabled","currentPage","onClick","_withModifiers","$event","$options","handlePageChange","displayedPages","page","active","_hoisted_15"],"sources":["D:\\zlib\\frontend\\src\\components\\SearchResults.vue"],"sourcesContent":["<template>\r\n  <div class=\"search-results\">\r\n    <!-- Loading spinner -->\r\n    <div v-if=\"loading\" class=\"text-center my-5\">\r\n      <div class=\"spinner-border text-primary\" role=\"status\">\r\n        <span class=\"visually-hidden\">Loading...</span>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Results -->\r\n    <div v-else>\r\n      <!-- Results count -->\r\n      <div v-if=\"total > 0\" class=\"alert alert-info mb-4\">\r\n        Found {{ total }} results\r\n      </div>\r\n\r\n      <!-- No results message -->\r\n      <div v-else-if=\"!loading\" class=\"alert alert-warning mb-4\">\r\n        No results found\r\n      </div>\r\n\r\n      <!-- Results list -->\r\n      <div class=\"row\">\r\n        <div v-for=\"(book, index) in results\" :key=\"index\" class=\"col-12 mb-4\">\r\n          <div class=\"card\">\r\n            <div class=\"card-body\">\r\n              <h5 class=\"card-title\">{{ book.title }}</h5>\r\n              <h6 class=\"card-subtitle mb-2 text-muted\">\r\n                {{ book.author }} ({{ book.year }})\r\n              </h6>\r\n              <p class=\"card-text\">\r\n                <small class=\"text-muted\">Source: {{ book.source }}</small>\r\n              </p>\r\n              <a\r\n                :href=\"book.download_url\"\r\n                target=\"_blank\"\r\n                class=\"btn btn-primary\"\r\n                rel=\"noopener noreferrer\"\r\n              >\r\n                Download\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Pagination -->\r\n      <div v-if=\"totalPages > 1\" class=\"d-flex justify-content-center mt-4\">\r\n        <nav aria-label=\"Search results pages\">\r\n          <ul class=\"pagination\">\r\n            <li class=\"page-item\" :class=\"{ disabled: currentPage === 1 }\">\r\n              <a\r\n                class=\"page-link\"\r\n                href=\"#\"\r\n                @click.prevent=\"handlePageChange(currentPage - 1)\"\r\n              >\r\n                Previous\r\n              </a>\r\n            </li>\r\n            <li\r\n              v-for=\"page in displayedPages\"\r\n              :key=\"page\"\r\n              class=\"page-item\"\r\n              :class=\"{ active: page === currentPage }\"\r\n            >\r\n              <a\r\n                class=\"page-link\"\r\n                href=\"#\"\r\n                @click.prevent=\"handlePageChange(page)\"\r\n              >\r\n                {{ page }}\r\n              </a>\r\n            </li>\r\n            <li\r\n              class=\"page-item\"\r\n              :class=\"{ disabled: currentPage === totalPages }\"\r\n            >\r\n              <a\r\n                class=\"page-link\"\r\n                href=\"#\"\r\n                @click.prevent=\"handlePageChange(currentPage + 1)\"\r\n              >\r\n                Next\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'SearchResults',\r\n  props: {\r\n    results: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    loading: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    total: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    currentPage: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n    totalPages: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n  computed: {\r\n    displayedPages() {\r\n      const pages = [];\r\n      const maxDisplayed = 5;\r\n      let start = Math.max(1, this.currentPage - 2);\r\n      let end = Math.min(this.totalPages, start + maxDisplayed - 1);\r\n      \r\n      if (end - start + 1 < maxDisplayed) {\r\n        start = Math.max(1, end - maxDisplayed + 1);\r\n      }\r\n      \r\n      for (let i = start; i <= end; i++) {\r\n        pages.push(i);\r\n      }\r\n      \r\n      return pages;\r\n    }\r\n  },\r\n  methods: {\r\n    handlePageChange(page) {\r\n      if (page >= 1 && page <= this.totalPages && page !== this.currentPage) {\r\n        this.$emit('page-change', page);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.search-results {\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.card {\r\n  transition: transform 0.2s;\r\n}\r\n\r\n.card:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}