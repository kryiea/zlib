{"ast":null,"code":"export default {\n  name: 'SearchResults',\n  props: {\n    results: {\n      type: Array,\n      required: true\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    total: {\n      type: Number,\n      default: 0\n    },\n    currentPage: {\n      type: Number,\n      default: 1\n    },\n    totalPages: {\n      type: Number,\n      default: 0\n    }\n  },\n  computed: {\n    displayedPages() {\n      const pages = [];\n      const maxDisplayed = 5;\n      let start = Math.max(1, this.currentPage - 2);\n      let end = Math.min(this.totalPages, start + maxDisplayed - 1);\n      if (end - start + 1 < maxDisplayed) {\n        start = Math.max(1, end - maxDisplayed + 1);\n      }\n      for (let i = start; i <= end; i++) {\n        pages.push(i);\n      }\n      return pages;\n    }\n  },\n  methods: {\n    handlePageChange(page) {\n      if (page >= 1 && page <= this.totalPages && page !== this.currentPage) {\n        this.$emit('page-change', page);\n      }\n    }\n  }\n};","map":{"version":3,"names":["name","props","results","type","Array","required","loading","Boolean","default","total","Number","currentPage","totalPages","computed","displayedPages","pages","maxDisplayed","start","Math","max","end","min","i","push","methods","handlePageChange","page","$emit"],"sources":["D:\\zlib\\frontend\\src\\components\\SearchResults.vue"],"sourcesContent":["<template>\r\n  <div class=\"search-results\">\r\n    <!-- Loading spinner -->\r\n    <div v-if=\"loading\" class=\"text-center my-5\">\r\n      <div class=\"spinner-border text-primary\" role=\"status\">\r\n        <span class=\"visually-hidden\">Loading...</span>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Results -->\r\n    <div v-else>\r\n      <!-- Results count -->\r\n      <div v-if=\"total > 0\" class=\"alert alert-info mb-4\">\r\n        Found {{ total }} results\r\n      </div>\r\n\r\n      <!-- No results message -->\r\n      <div v-else-if=\"!loading\" class=\"alert alert-warning mb-4\">\r\n        No results found\r\n      </div>\r\n\r\n      <!-- Results list -->\r\n      <div class=\"row\">\r\n        <div v-for=\"(book, index) in results\" :key=\"index\" class=\"col-12 mb-4\">\r\n          <div class=\"card\">\r\n            <div class=\"card-body\">\r\n              <h5 class=\"card-title\">{{ book.title }}</h5>\r\n              <h6 class=\"card-subtitle mb-2 text-muted\">\r\n                {{ book.author }} ({{ book.year }})\r\n              </h6>\r\n              <p class=\"card-text\">\r\n                <small class=\"text-muted\">Source: {{ book.source }}</small>\r\n              </p>\r\n              <a\r\n                :href=\"book.download_url\"\r\n                target=\"_blank\"\r\n                class=\"btn btn-primary\"\r\n                rel=\"noopener noreferrer\"\r\n              >\r\n                Download\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Pagination -->\r\n      <div v-if=\"totalPages > 1\" class=\"d-flex justify-content-center mt-4\">\r\n        <nav aria-label=\"Search results pages\">\r\n          <ul class=\"pagination\">\r\n            <li class=\"page-item\" :class=\"{ disabled: currentPage === 1 }\">\r\n              <a\r\n                class=\"page-link\"\r\n                href=\"#\"\r\n                @click.prevent=\"handlePageChange(currentPage - 1)\"\r\n              >\r\n                Previous\r\n              </a>\r\n            </li>\r\n            <li\r\n              v-for=\"page in displayedPages\"\r\n              :key=\"page\"\r\n              class=\"page-item\"\r\n              :class=\"{ active: page === currentPage }\"\r\n            >\r\n              <a\r\n                class=\"page-link\"\r\n                href=\"#\"\r\n                @click.prevent=\"handlePageChange(page)\"\r\n              >\r\n                {{ page }}\r\n              </a>\r\n            </li>\r\n            <li\r\n              class=\"page-item\"\r\n              :class=\"{ disabled: currentPage === totalPages }\"\r\n            >\r\n              <a\r\n                class=\"page-link\"\r\n                href=\"#\"\r\n                @click.prevent=\"handlePageChange(currentPage + 1)\"\r\n              >\r\n                Next\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'SearchResults',\r\n  props: {\r\n    results: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    loading: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    total: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    currentPage: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n    totalPages: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n  computed: {\r\n    displayedPages() {\r\n      const pages = [];\r\n      const maxDisplayed = 5;\r\n      let start = Math.max(1, this.currentPage - 2);\r\n      let end = Math.min(this.totalPages, start + maxDisplayed - 1);\r\n      \r\n      if (end - start + 1 < maxDisplayed) {\r\n        start = Math.max(1, end - maxDisplayed + 1);\r\n      }\r\n      \r\n      for (let i = start; i <= end; i++) {\r\n        pages.push(i);\r\n      }\r\n      \r\n      return pages;\r\n    }\r\n  },\r\n  methods: {\r\n    handlePageChange(page) {\r\n      if (page >= 1 && page <= this.totalPages && page !== this.currentPage) {\r\n        this.$emit('page-change', page);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.search-results {\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.card {\r\n  transition: transform 0.2s;\r\n}\r\n\r\n.card:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n</style> "],"mappings":"AA6FA,eAAe;EACbA,IAAI,EAAE,eAAe;EACrBC,KAAK,EAAE;IACLC,OAAO,EAAE;MACPC,IAAI,EAAEC,KAAK;MACXC,QAAQ,EAAE;IACZ,CAAC;IACDC,OAAO,EAAE;MACPH,IAAI,EAAEI,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDC,KAAK,EAAE;MACLN,IAAI,EAAEO,MAAM;MACZF,OAAO,EAAE;IACX,CAAC;IACDG,WAAW,EAAE;MACXR,IAAI,EAAEO,MAAM;MACZF,OAAO,EAAE;IACX,CAAC;IACDI,UAAU,EAAE;MACVT,IAAI,EAAEO,MAAM;MACZF,OAAO,EAAE;IACX;EACF,CAAC;EACDK,QAAQ,EAAE;IACRC,cAAcA,CAAA,EAAG;MACf,MAAMC,KAAI,GAAI,EAAE;MAChB,MAAMC,YAAW,GAAI,CAAC;MACtB,IAAIC,KAAI,GAAIC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE,IAAI,CAACR,WAAU,GAAI,CAAC,CAAC;MAC7C,IAAIS,GAAE,GAAIF,IAAI,CAACG,GAAG,CAAC,IAAI,CAACT,UAAU,EAAEK,KAAI,GAAID,YAAW,GAAI,CAAC,CAAC;MAE7D,IAAII,GAAE,GAAIH,KAAI,GAAI,IAAID,YAAY,EAAE;QAClCC,KAAI,GAAIC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEC,GAAE,GAAIJ,YAAW,GAAI,CAAC,CAAC;MAC7C;MAEA,KAAK,IAAIM,CAAA,GAAIL,KAAK,EAAEK,CAAA,IAAKF,GAAG,EAAEE,CAAC,EAAE,EAAE;QACjCP,KAAK,CAACQ,IAAI,CAACD,CAAC,CAAC;MACf;MAEA,OAAOP,KAAK;IACd;EACF,CAAC;EACDS,OAAO,EAAE;IACPC,gBAAgBA,CAACC,IAAI,EAAE;MACrB,IAAIA,IAAG,IAAK,KAAKA,IAAG,IAAK,IAAI,CAACd,UAAS,IAAKc,IAAG,KAAM,IAAI,CAACf,WAAW,EAAE;QACrE,IAAI,CAACgB,KAAK,CAAC,aAAa,EAAED,IAAI,CAAC;MACjC;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}